#!/bin/sh

WHAT=$1

if [ -z "$WHAT" ]; then
  echo "Provide the package to search for as the first argument"
  exit 1
fi

curl -s "https://aur.archlinux.org/rpc/?v=5&type=search&arg=$WHAT" | jq -rc ".results[] | [.Name, .Version, .NumVotes, .Popularity] | @tsv" | tr '\t' ' ' | sort -r -k 3,4 -n | column -t -N Name,Version,Votes,Popularity | less
